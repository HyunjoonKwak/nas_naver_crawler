# 📋 프로젝트 TODO 리스트

> **마지막 업데이트**: 2025-10-19
> **현재 버전**: v2.7.0 - Phase 3 진행 중 (Analytics & Optimization)

---

## 🎯 최근 완료 항목 (2025-10-19)

### ✅ Phase 3 진행 중: Analytics & Optimization (4-8주) ⭐⭐⭐⭐⭐

#### 8. 데이터 구조 개선 ✅ 완료 (2025-10-19)
- ✅ Article 테이블에 숫자 가격 컬럼 추가 (dealOrWarrantPrcWon, rentPrcWon)
- ✅ 가격 인덱스 추가 (빠른 정렬/필터링)
- ✅ 시계열 인덱스 추가 (createdAt)
- ✅ 마이그레이션 SQL 파일 생성
- ✅ 데이터 마이그레이션 스크립트 작성 (scripts/migrate-price-data.ts)

#### 9. 대시보드 분석 API ✅ 완료 (2025-10-19)
- ✅ 전체 통계 API 구현 (/api/analytics/dashboard)
- ✅ 5가지 분석 데이터 제공:
  - 시장 개요 KPI (총 매물, 평균/최저/최고 가격)
  - 가격 추이 (최근 30일 일별)
  - 단지별 순위 (TOP 10)
  - 거래 유형 분포
  - 평형별 분석

### ✅ Phase 2 완료: Core Features (2-4주) ⭐⭐⭐⭐

#### 6. 알림 시스템 고도화 ✅ 완료 (2025-10-19)
- ✅ 알림 설정 페이지 UI 구현
- ✅ 알림 목록/생성/삭제 기능
- ✅ 알림 활성화/비활성화 토글
- ✅ 단지별 알림 조건 설정 (가격, 면적, 거래유형)

#### 7. 24시간 매물 변동 추이 ✅ 완료 (2025-10-19)
- ✅ API에 24시간 매물 변동 계산 추가
- ✅ 단지 카드에 변동 표시 (+N개 배지)
- ✅ 변동 있는 단지 하이라이트 (green border)
- ✅ 리스트 뷰에도 변동 배지 표시

#### 4. 고급 필터링 ✅ 완료 (2025-10-19)
- ✅ 가격대 필터 (전체/3억 이하/3-5억/5-10억/10억 이상)
- ✅ 매물 수 필터 (전체/매물 없음/1-10개/10-50개/50개 이상)
- ✅ 필터 UI (Action Bar 내 드롭다운)
- ✅ 필터 결과 카운트 표시
- ✅ 필터 초기화 기능
- ✅ 빈 결과 처리

#### 5. 단지 비교 기능 ✅ 완료 (2025-10-19)
- ✅ 비교 모드 토글 버튼
- ✅ 체크박스 선택 UI (2-5개 선택 가능)
- ✅ 비교 모드 안내 배너
- ✅ 선택된 카드 시각적 표시 (purple ring)
- ✅ 비교 모달 (side-by-side 테이블)
- ✅ 항목별 비교 (단지번호, 가격, 매물수, 세대수, 동수, 주소, 거래유형별 통계)
- ✅ 상세보기 링크

### ✅ Phase 1 완료: Quick Wins (1-2주) ⭐⭐⭐⭐⭐

#### 1. 단지목록 페이지 정보 강화
- ✅ 가격 통계 유틸리티 (`lib/price-utils.ts`)
  - ✅ 가격 문자열 파싱 (예: "3억 5,000" → 350000000원)
  - ✅ 가격 포맷팅 (원 → 억/만원 형식)
  - ✅ 매물 가격 통계 계산 (평균/최저/최고)
  - ✅ 거래 유형별 통계 계산
- ✅ API 개선 (`/api/complexes`)
  - ✅ 최근 100개 매물 조회 (가격 통계 계산용)
  - ✅ `priceStats` 추가 (평균가, 최저가, 최고가)
  - ✅ `tradeTypeStats` 추가 (거래 유형별 통계)
- ✅ 카드 뷰 정보 개선
  - ✅ 가격 정보 섹션 (평균/최저/최고)
  - ✅ 거래 유형별 통계 섹션 (매매/전세/월세)
- ✅ 리스트 뷰 컬럼 재구성
  - ✅ "평균 가격" 컬럼 추가
  - ✅ 가격 범위 표시 (최저~최고)
- ✅ 상단 전체 통계 대시보드 (5개 KPI)
  - ✅ 총 단지 수, 총 매물 수
  - ✅ 평균/최저/최고 가격
  - ✅ 그라데이션 디자인

### ✅ 이전 완료 항목 (2025-10-18 ~ 2025-10-19)

#### 커뮤니티 시스템 구축 완료
- ✅ 게시판 기능 (자유게시판, Q&A, 공지사항)
- ✅ 댓글 & 대댓글 (nested replies)
- ✅ 게시글 북마크
- ✅ 좋아요 시스템
- ✅ 신고 시스템 (게시글/댓글)
- ✅ 알림 시스템
- ✅ 관리자 페이지 (신고 관리)

#### 크롤러 안정성 개선
- ✅ 컨텍스트 파괴 에러 자동 복구
- ✅ 컨테이너 감지 로직 개선
- ✅ 초기 매물 0개 검증 로직 추가
- ✅ 스케줄러 HTTP 타임아웃 버퍼 추가

#### UI/UX 개선
- ✅ Lucide React 아이콘 전환
- ✅ 커뮤니티 페이지 폰트 크기 최적화 (70%)
- ✅ 커뮤니티 페이지 중앙 정렬 레이아웃
- ✅ 단지 목록에 등록일/최근수집일 표시

---

## 📈 Phase 1: Quick Wins (1-2주)

### 🔴 높은 우선순위

#### 1. ~~단지목록 페이지 정보 강화~~ ⭐⭐⭐⭐⭐ ✅ 완료
**임팩트**: 매우 높음 | **소요**: 2-3일 | **상태**: ✅ 완료 (2025-10-19)

- ✅ API에 가격 통계 추가 (평균가, 최저가, 최고가)
- ✅ 카드 뷰 정보 개선
  - ✅ 평균 매매가 표시
  - ✅ 가격 범위 (최저~최고)
  - ✅ 거래 유형별 통계
- ✅ 리스트 뷰 컬럼 재구성
- ✅ 상단 전체 통계 대시보드 (5개 KPI)

**완료 커밋**: [01fcfd7](../../commit/01fcfd7)

#### 2. ~~홈 페이지 개선~~ ⭐⭐⭐ ✅ 부분 완료
**임팩트**: 높음 | **소요**: 1-2일 | **상태**: ✅ KPI 카드는 이미 구현됨

- ✅ 상단 KPI 카드 4개 (이미 구현됨: 관심 단지, 등록 단지, 수집 매물, 최근 수집)
- ⏸️ 관심 단지 카드에 미니 차트 (7일 매물 추이) - Phase 2로 연기
- ⏸️ 필터/정렬 옵션 - Phase 2로 연기

#### 3. ~~랜딩 페이지 최적화~~ ⭐⭐⭐ ✅ 완료
**임팩트**: 중간 | **소요**: 0.5일 | **상태**: ✅ 완료 (2025-10-19)

- ✅ 실시간 통계 표시 (등록 매물, 관리 단지, 평균 업데이트 시간)
- ✅ 기능 카드 축소 (6개 → 3개 핵심만)
- ✅ 회원가입 CTA 강화

**완료 커밋**: [3d2a9a6](../../commit/3d2a9a6)

---

## 📊 Phase 2: Core Features (2-4주)

### 🟡 중간 우선순위

#### 4. ~~고급 필터링~~ ⭐⭐⭐⭐ ✅ 완료
**임팩트**: 높음 | **소요**: 0.5일 | **상태**: ✅ 완료 (2025-10-19)

- ✅ 가격대 필터 (전체/3억 이하/3-5억/5-10억/10억 이상)
- ✅ 매물 수 필터 (전체/매물 없음/1-10개/10-50개/50개 이상)
- ⏸️ 평형대 필터 - 추후 구현 (평형 데이터 필요)
- ⏸️ 복합 필터 (AND/OR) - 추후 구현

**구현 파일**: [app/complexes/page.tsx:141-206](app/complexes/page.tsx#L141-L206)

#### 5. ~~단지 비교 기능~~ ⭐⭐⭐⭐ ✅ 완료
**임팩트**: 높음 | **소요**: 1일 | **상태**: ✅ 완료 (2025-10-19)

- ✅ 비교 모드 토글 & 체크박스 선택 UI
- ✅ 비교 모달 (side-by-side 테이블)
- ✅ 항목별 비교 테이블 (9개 항목)
- ⏸️ 비교 차트 - Phase 3로 연기

**구현 파일**: [app/complexes/page.tsx:1915-2138](app/complexes/page.tsx#L1915-L2138)

#### 6. ~~알림 시스템 고도화~~ ⭐⭐⭐ ✅ 완료
**임팩트**: 중간 | **소요**: 0.5일 | **상태**: ✅ 완료 (2025-10-19)

- ✅ 알림 설정 페이지 UI 구현
- ✅ 알림 목록 조회/생성/삭제 기능
- ✅ 알림 활성화/비활성화 토글
- ⏸️ 가격 변동 감지 로직 - 백그라운드 작업 필요
- ⏸️ 새 매물 감지 로직 - 백그라운드 작업 필요
- ⏸️ 이메일/웹훅 발송 - 준비 중

**구현 파일**:
- [app/alerts/page.tsx](app/alerts/page.tsx) - 알림 설정 페이지
- [app/api/alerts/route.ts](app/api/alerts/route.ts) - 알림 API (기존)

#### 7. ~~24시간 매물 변동 추이~~ ⭐⭐⭐ ✅ 완료
**임팩트**: 중간 | **소요**: 0.5일 | **상태**: ✅ 완료 (2025-10-19)

- ✅ API에 24시간 매물 변동 계산 추가
- ✅ 단지 카드에 변동 표시 (+N개)
- ✅ 변동 있는 단지 하이라이트 (green border)

**구현 파일**:
- [app/api/complexes/route.ts:125-130](app/api/complexes/route.ts#L125-L130)
- [app/complexes/page.tsx:1504-1508](app/complexes/page.tsx#L1504-L1508)

---

## 🚀 Phase 3: Analytics (4-8주)

### 🟢 낮은 우선순위 (장기)

#### 7. 데이터 분석 페이지 ⭐⭐⭐⭐⭐
- [ ] `/analytics` 페이지 생성
- [ ] 시장 개요 (KPI)
- [ ] 가격 추이 차트 (Line Chart)
- [ ] 단지별 순위 (TOP 10)
- [ ] 거래 유형 분포 (Pie Chart)
- [ ] 평형별 분석 (Bar Chart)

**필요 기술**: Recharts, 분석 API

**참고**: [ANALYSIS_REPORT.md](ANALYSIS_REPORT.md#-4-데이터-분석-페이지-미구현)

#### 8. 데이터 구조 개선 ⭐⭐⭐⭐
- [ ] Article 테이블에 숫자 가격 컬럼 추가
- [ ] 기존 문자열 데이터 마이그레이션
- [ ] 인덱스 추가

**장점**: SQL 통계 계산, 필터링 속도 10배 향상

#### 9. 지도 통합 ⭐⭐⭐
- [ ] Naver Maps API 연동
- [ ] 단지 위치 마커
- [ ] 가격 기준 히트맵
- [ ] 클러스터링

---

## 🔧 기술 부채 & 최적화

### 성능
- [ ] React Query 도입
- [ ] 단지목록 컴포넌트 분리 (1671줄 → 500줄 이하)
- [ ] Virtual Scrolling
- [ ] 이미지 최적화

### 보안
- [ ] Rate Limiting
- [ ] CSRF 보호
- [ ] XSS 방어

### 문서
- [ ] API 문서 (Swagger)
- [ ] 사용자 가이드
- [ ] 개발자 가이드

---

## 🎯 이번 주 목표 (2025-10-20 ~ 2025-10-26)

1. ✅ 단지목록 페이지 정보 강화 시작
2. ✅ 홈 페이지 KPI 카드 추가
3. ✅ 랜딩 페이지 간소화

---

## 📊 프로젝트 통계

| 카테고리 | 완료 | 진행률 |
|---------|------|--------|
| 페이지 | 9/11 | 82% |
| 컴포넌트 | 20/25 | 80% |
| API | 45/60 | 75% |
| 핵심 기능 | 8/12 | 67% |

---

**상세 분석**: [ANALYSIS_REPORT.md](ANALYSIS_REPORT.md)
**마지막 업데이트**: 2025-10-19
**상태**: 🚀 활발히 개발 중
